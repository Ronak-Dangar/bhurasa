{
    "sourceFile": "app/delivery/page.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1763069565217,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1763069565217,
            "name": "Commit-0",
            "content": "import Link from \"next/link\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Table, THead, TBody, TH, TD } from \"@/components/ui/table\";\r\nimport { deliveryAgents, customers, orders } from \"@/lib/sample-data\";\r\nimport { ordersByDeliveryAgent } from \"@/lib/analytics\";\r\n\r\nexport default function DeliveryPage() {\r\n  const agentId = \"agent-01\";\r\n  const agent = deliveryAgents.find((item) => item.id === agentId);\r\n  const assignedOrders = ordersByDeliveryAgent(orders, agentId);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div>\r\n        <h2 className=\"text-2xl font-semibold text-zinc-900 dark:text-zinc-100\">Delivery Agent View</h2>\r\n        <p className=\"mt-1 text-sm text-zinc-500 dark:text-zinc-400\">\r\n          Orders visible here are restricted to assigned deliveries only.\r\n        </p>\r\n      </div>\r\n\r\n      <Card\r\n        title={agent ? `${agent.name}` : \"Delivery Agent\"}\r\n        description={agent?.phone ?? \"Contact dispatch for assignments.\"}\r\n        actions={<Badge variant=\"info\">Shift · 6am - 2pm</Badge>}\r\n      >\r\n        <Table>\r\n          <THead>\r\n            <tr>\r\n              <TH>Order</TH>\r\n              <TH>Customer</TH>\r\n              <TH>Quantity</TH>\r\n              <TH>Payment</TH>\r\n              <TH>Actions</TH>\r\n            </tr>\r\n          </THead>\r\n          <TBody>\r\n            {assignedOrders.length === 0 ? (\r\n              <tr>\r\n                <TD colSpan={5}>No orders assigned.</TD>\r\n              </tr>\r\n            ) : (\r\n              assignedOrders.map((order) => {\r\n                const customer = customers.find((item) => item.id === order.customerId);\r\n                return (\r\n                  <tr key={order.id}>\r\n                    <TD className=\"font-medium text-zinc-900 dark:text-zinc-100\">{order.id.toUpperCase()}</TD>\r\n                    <TD>\r\n                      <div>{customer?.name}</div>\r\n                      <div className=\"text-xs text-zinc-500\">{customer?.address}</div>\r\n                    </TD>\r\n                    <TD>\r\n                      {order.items.map((item) => (\r\n                        <div key={item.productId} className=\"text-xs\">\r\n                          {item.quantity} × {item.productName}\r\n                        </div>\r\n                      ))}\r\n                    </TD>\r\n                    <TD>\r\n                      <Badge variant={order.paymentStatus === \"prepaid\" ? \"success\" : \"warning\"}>\r\n                        {order.paymentStatus.toUpperCase()}\r\n                      </Badge>\r\n                    </TD>\r\n                    <TD>\r\n                      <div className=\"flex items-center gap-2 text-xs\">\r\n                        <Link\r\n                          href={`https://maps.google.com/?q=${encodeURIComponent(customer?.address ?? \"\")}`}\r\n                          className=\"rounded-lg border border-zinc-200 px-3 py-1 font-medium text-zinc-600 transition hover:bg-zinc-100 dark:border-zinc-700 dark:text-zinc-300 dark:hover:bg-zinc-800\"\r\n                          target=\"_blank\"\r\n                        >\r\n                          Map\r\n                        </Link>\r\n                        <a\r\n                          href={`tel:${customer?.phone ?? \"\"}`}\r\n                          className=\"rounded-lg bg-emerald-600 px-3 py-1 font-semibold text-white hover:bg-emerald-500\"\r\n                        >\r\n                          Call\r\n                        </a>\r\n                      </div>\r\n                    </TD>\r\n                  </tr>\r\n                );\r\n              })\r\n            )}\r\n          </TBody>\r\n        </Table>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n"
        }
    ]
}