{
    "sourceFile": "app/inventory/page.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1763069565216,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1763362519382,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,42 +1,58 @@\n import { Badge } from \"@/components/ui/badge\";\r\n import { Card } from \"@/components/ui/card\";\r\n import { Table, THead, TBody, TH, TD } from \"@/components/ui/table\";\r\n-import { inventoryItems } from \"@/lib/sample-data\";\r\n+import { createSupabaseServerClient } from \"@/lib/supabase/server\";\r\n+import { InventoryClientWrappers, InventoryTableActions } from \"@/components/inventory/inventory-client-wrappers\";\r\n \r\n-export default function InventoryPage() {\r\n-  const grouped = groupByType();\r\n-  const lowStock = inventoryItems.filter((item) => item.stockLevel < item.lowStockThreshold);\r\n+export default async function InventoryPage() {\r\n+  const supabase = await createSupabaseServerClient();\r\n+  \r\n+  const { data: inventoryItems } = await supabase\r\n+    .from(\"inventory_items\")\r\n+    .select(\"*\")\r\n+    .order(\"item_name\", { ascending: true });\r\n \r\n+  const items = inventoryItems ?? [];\r\n+  const grouped = groupByType(items);\r\n+  const lowStock = items.filter((item) => item.stock_level < item.low_stock_threshold);\r\n+\r\n   return (\r\n-    <div className=\"space-y-6\">\r\n-      <div>\r\n-        <h2 className=\"text-2xl font-semibold text-zinc-900 dark:text-zinc-100\">Inventory Health</h2>\r\n-        <p className=\"mt-1 text-sm text-zinc-500 dark:text-zinc-400\">\r\n-          Track stock across raw material, production flow, and finished goods.\r\n-        </p>\r\n-      </div>\r\n+    <InventoryClientWrappers>\r\n \r\n       <div className=\"grid gap-4 md:grid-cols-2 xl:grid-cols-4\">\r\n         {Object.entries(grouped).map(([type, items]) => {\r\n-          const totalValue = items.reduce((acc, item) => acc + item.avgCost * item.stockLevel, 0);\r\n-          const lowCount = items.filter((item) => item.stockLevel < item.lowStockThreshold).length;\r\n+          const totalValue = items.reduce((acc, item) => acc + item.avg_cost * item.stock_level, 0);\r\n+          const lowCount = items.filter((item) => item.stock_level < item.low_stock_threshold).length;\r\n+          const hasRisk = lowCount > 0;\r\n           return (\r\n             <Card\r\n               key={type}\r\n-              title={`${formatType(type)} (${items.length})`}\r\n-              description={`${lowCount} at risk · ₹${Math.round(totalValue).toLocaleString(\"en-IN\")}`}\r\n-              className=\"bg-white/80 dark:bg-zinc-900/80\"\r\n+              title={\r\n+                <div className=\"flex items-center gap-2\">\r\n+                  <span>{formatType(type)} ({items.length})</span>\r\n+                  {hasRisk && (\r\n+                    <span className=\"inline-flex items-center rounded-full bg-rose-100 px-2 py-0.5 text-xs font-medium text-rose-700 dark:bg-rose-950/40 dark:text-rose-300\">\r\n+                      {lowCount} at risk\r\n+                    </span>\r\n+                  )}\r\n+                </div>\r\n+              }\r\n+              description={`₹${Math.round(totalValue).toLocaleString(\"en-IN\")} total value`}\r\n+              className={hasRisk ? \"border-l-4 border-l-rose-500 bg-white/80 dark:bg-zinc-900/80\" : \"border-l-4 border-l-emerald-500 bg-white/80 dark:bg-zinc-900/80\"}\r\n             >\r\n               <div className=\"mt-4 space-y-2 text-sm text-zinc-600 dark:text-zinc-300\">\r\n-                {items.slice(0, 3).map((item) => (\r\n-                  <div key={item.id} className=\"flex items-center justify-between\">\r\n-                    <span>{item.itemName}</span>\r\n-                    <span className=\"font-medium text-zinc-900 dark:text-zinc-100\">\r\n-                      {item.stockLevel} {item.unit}\r\n-                    </span>\r\n-                  </div>\r\n-                ))}\r\n+                {items.slice(0, 3).map((item) => {\r\n+                  const itemLow = item.stock_level < item.low_stock_threshold;\r\n+                  return (\r\n+                    <div key={item.id} className=\"flex items-center justify-between\">\r\n+                      <span className={itemLow ? \"text-rose-600 dark:text-rose-400\" : \"\"}>{item.item_name}</span>\r\n+                      <span className={`font-medium ${itemLow ? \"text-rose-700 dark:text-rose-300\" : \"text-emerald-700 dark:text-emerald-300\"}`}>\r\n+                        {item.stock_level} {item.unit}\r\n+                      </span>\r\n+                    </div>\r\n+                  );\r\n+                })}\r\n                 {items.length > 3 && <p className=\"text-xs text-zinc-500\">+{items.length - 3} more items</p>}\r\n               </div>\r\n             </Card>\r\n           );\r\n@@ -51,24 +67,53 @@\n               <TH>Type</TH>\r\n               <TH>On Hand</TH>\r\n               <TH>Avg Cost</TH>\r\n               <TH>Low Stock Threshold</TH>\r\n+              <TH>Actions</TH>\r\n             </tr>\r\n           </THead>\r\n           <TBody>\r\n-            {inventoryItems.map((item) => {\r\n-              const isLow = item.stockLevel < item.lowStockThreshold;\r\n+            {items.map((item) => {\r\n+              const stockPercentage = (item.stock_level / item.low_stock_threshold) * 100;\r\n+              const isLow = stockPercentage < 100;\r\n+              const isMedium = stockPercentage >= 100 && stockPercentage < 150;\r\n+              const isHealthy = stockPercentage >= 150;\r\n+              \r\n               return (\r\n                 <tr key={item.id} className={isLow ? \"bg-rose-50/70 dark:bg-rose-950/40\" : undefined}>\r\n-                  <TD className=\"font-medium text-zinc-900 dark:text-zinc-100\">{item.itemName}</TD>\r\n+                  <TD className=\"font-medium text-zinc-900 dark:text-zinc-100\">{item.item_name}</TD>\r\n                   <TD>\r\n-                    <Badge variant=\"neutral\">{formatType(item.itemType)}</Badge>\r\n+                    <Badge variant=\"neutral\">{formatType(item.item_type)}</Badge>\r\n                   </TD>\r\n                   <TD>\r\n-                    <span className=\"font-semibold\">{item.stockLevel}</span> {item.unit}\r\n+                    <div className=\"flex items-center gap-2\">\r\n+                      <span className={`font-semibold ${\r\n+                        isLow ? \"text-rose-700 dark:text-rose-300\" :\r\n+                        isMedium ? \"text-amber-700 dark:text-amber-300\" :\r\n+                        \"text-emerald-700 dark:text-emerald-300\"\r\n+                      }`}>\r\n+                        {item.stock_level}\r\n+                      </span>\r\n+                      <span className=\"text-zinc-500 dark:text-zinc-400\">{item.unit}</span>\r\n+                      {isLow && (\r\n+                        <span className=\"rounded-full bg-rose-100 px-2 py-0.5 text-xs font-medium text-rose-700 dark:bg-rose-950/40 dark:text-rose-300\">\r\n+                          Low\r\n+                        </span>\r\n+                      )}\r\n+                      {isHealthy && (\r\n+                        <span className=\"rounded-full bg-emerald-100 px-2 py-0.5 text-xs font-medium text-emerald-700 dark:bg-emerald-950/40 dark:text-emerald-300\">\r\n+                          Healthy\r\n+                        </span>\r\n+                      )}\r\n+                    </div>\r\n                   </TD>\r\n-                  <TD>₹{item.avgCost.toLocaleString(\"en-IN\")}</TD>\r\n-                  <TD>{item.lowStockThreshold}</TD>\r\n+                  <TD>₹{item.avg_cost.toLocaleString(\"en-IN\")}</TD>\r\n+                  <TD>\r\n+                    <span className=\"text-zinc-600 dark:text-zinc-400\">{item.low_stock_threshold}</span>\r\n+                  </TD>\r\n+                  <TD>\r\n+                    <InventoryTableActions item={item} />\r\n+                  </TD>\r\n                 </tr>\r\n               );\r\n             })}\r\n           </TBody>\r\n@@ -76,32 +121,37 @@\n       </Card>\r\n \r\n       <Card title=\"Reorder Suggestions\" description=\"Trigger procurement before operations stall.\">\r\n         {lowStock.length === 0 ? (\r\n-          <p className=\"text-sm text-zinc-500 dark:text-zinc-400\">All inventory within safe levels.</p>\r\n+          <div className=\"flex items-center gap-3 rounded-lg border border-emerald-200 bg-emerald-50/60 p-4 dark:border-emerald-900/40 dark:bg-emerald-950/30\">\r\n+            <svg className=\"h-5 w-5 text-emerald-600 dark:text-emerald-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n+              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n+            </svg>\r\n+            <p className=\"text-sm font-medium text-emerald-700 dark:text-emerald-300\">All inventory within safe levels</p>\r\n+          </div>\r\n         ) : (\r\n           <ul className=\"space-y-3 text-sm text-zinc-600 dark:text-zinc-300\">\r\n             {lowStock.map((item) => (\r\n               <li key={item.id} className=\"flex items-center justify-between rounded-lg border border-rose-200/60 bg-white p-3 dark:border-rose-800/40 dark:bg-zinc-900\">\r\n                 <div>\r\n-                  <p className=\"font-semibold text-zinc-900 dark:text-zinc-100\">{item.itemName}</p>\r\n-                  <p className=\"text-xs text-zinc-500\">Safety stock {item.lowStockThreshold} {item.unit}</p>\r\n+                  <p className=\"font-semibold text-zinc-900 dark:text-zinc-100\">{item.item_name}</p>\r\n+                  <p className=\"text-xs text-zinc-500\">Safety stock {item.low_stock_threshold} {item.unit}</p>\r\n                 </div>\r\n-                <Badge variant=\"danger\">{item.stockLevel} {item.unit}</Badge>\r\n+                <Badge variant=\"danger\">{item.stock_level} {item.unit}</Badge>\r\n               </li>\r\n             ))}\r\n           </ul>\r\n         )}\r\n       </Card>\r\n-    </div>\r\n+    </InventoryClientWrappers>\r\n   );\r\n }\r\n \r\n-function groupByType() {\r\n-  return inventoryItems.reduce<Record<string, typeof inventoryItems>>( (acc, item) => {\r\n-    acc[item.itemType] = acc[item.itemType] ? [...acc[item.itemType], item] : [item];\r\n+function groupByType(items: any[]) {\r\n+  return items.reduce<Record<string, any[]>>((acc, item) => {\r\n+    acc[item.item_type] = acc[item.item_type] ? [...acc[item.item_type], item] : [item];\r\n     return acc;\r\n-  }, {} as Record<string, typeof inventoryItems>);\r\n+  }, {} as Record<string, any[]>);\r\n }\r\n \r\n function formatType(type: string) {\r\n   return type\r\n"
                },
                {
                    "date": 1763368599986,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,8 +2,10 @@\n import { Card } from \"@/components/ui/card\";\r\n import { Table, THead, TBody, TH, TD } from \"@/components/ui/table\";\r\n import { createSupabaseServerClient } from \"@/lib/supabase/server\";\r\n import { InventoryClientWrappers, InventoryTableActions } from \"@/components/inventory/inventory-client-wrappers\";\r\n+import Link from \"next/link\";\r\n+import { FileText } from \"lucide-react\";\r\n \r\n export default async function InventoryPage() {\r\n   const supabase = await createSupabaseServerClient();\r\n   \r\n@@ -17,8 +19,25 @@\n   const lowStock = items.filter((item) => item.stock_level < item.low_stock_threshold);\r\n \r\n   return (\r\n     <InventoryClientWrappers>\r\n+      <div className=\"mb-6 flex items-center justify-between\">\r\n+        <div>\r\n+          <h2 className=\"text-2xl font-semibold text-zinc-900 dark:text-zinc-100\">\r\n+            Inventory Management\r\n+          </h2>\r\n+          <p className=\"mt-1 text-sm text-zinc-500 dark:text-zinc-400\">\r\n+            Track stock levels and manage reorder points\r\n+          </p>\r\n+        </div>\r\n+        <Link\r\n+          href=\"/inventory/log\"\r\n+          className=\"flex items-center gap-2 rounded-lg bg-zinc-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-zinc-800 dark:bg-zinc-100 dark:text-zinc-900 dark:hover:bg-zinc-200\"\r\n+        >\r\n+          <FileText size={18} />\r\n+          View Full Log\r\n+        </Link>\r\n+      </div>\r\n \r\n       <div className=\"grid gap-4 md:grid-cols-2 xl:grid-cols-4\">\r\n         {Object.entries(grouped).map(([type, items]) => {\r\n           const totalValue = items.reduce((acc, item) => acc + item.avg_cost * item.stock_level, 0);\r\n@@ -146,16 +165,38 @@\n   );\r\n }\r\n \r\n function groupByType(items: any[]) {\r\n-  return items.reduce<Record<string, any[]>>((acc, item) => {\r\n-    acc[item.item_type] = acc[item.item_type] ? [...acc[item.item_type], item] : [item];\r\n-    return acc;\r\n-  }, {} as Record<string, any[]>);\r\n+  // Re-categorize into 3 business-focused groups instead of 5 technical types\r\n+  const purchased: any[] = [];\r\n+  const inProcessing: any[] = [];\r\n+  const readyToSell: any[] = [];\r\n+\r\n+  items.forEach((item) => {\r\n+    if (item.item_type === \"raw_material\" || item.item_type === \"packaging\") {\r\n+      purchased.push(item);\r\n+    } else if (item.item_type === \"intermediate\") {\r\n+      inProcessing.push(item);\r\n+    } else if (item.item_type === \"finished_good\" || item.item_type === \"byproduct\") {\r\n+      readyToSell.push(item);\r\n+    }\r\n+  });\r\n+\r\n+  return {\r\n+    purchased,\r\n+    in_processing: inProcessing,\r\n+    ready_to_sell: readyToSell,\r\n+  };\r\n }\r\n \r\n function formatType(type: string) {\r\n-  return type\r\n+  const typeMap: Record<string, string> = {\r\n+    purchased: \"Purchased\",\r\n+    in_processing: \"In Processing\",\r\n+    ready_to_sell: \"Ready to Sell\",\r\n+  };\r\n+\r\n+  return typeMap[type] || type\r\n     .split(\"_\")\r\n     .map((part) => part.charAt(0).toUpperCase() + part.slice(1))\r\n     .join(\" \");\r\n }\r\n"
                },
                {
                    "date": 1764959539879,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,13 +8,17 @@\n \r\n export default async function InventoryPage() {\r\n   const supabase = await createSupabaseServerClient();\r\n   \r\n-  const { data: inventoryItems } = await supabase\r\n+  const { data: inventoryItems, error } = await supabase\r\n     .from(\"inventory_items\")\r\n     .select(\"*\")\r\n     .order(\"item_name\", { ascending: true });\r\n \r\n+  if (error) {\r\n+    console.error(\"Error fetching inventory:\", error);\r\n+  }\r\n+\r\n   const items = inventoryItems ?? [];\r\n   const grouped = groupByType(items);\r\n   const lowStock = items.filter((item) => item.stock_level < item.low_stock_threshold);\r\n \r\n@@ -59,9 +63,9 @@\n               description={`₹${Math.round(totalValue).toLocaleString(\"en-IN\")} total value`}\r\n               className={hasRisk ? \"border-l-4 border-l-rose-500 bg-white/80 dark:bg-zinc-900/80\" : \"border-l-4 border-l-emerald-500 bg-white/80 dark:bg-zinc-900/80\"}\r\n             >\r\n               <div className=\"mt-4 space-y-2 text-sm text-zinc-600 dark:text-zinc-300\">\r\n-                {items.slice(0, 3).map((item) => {\r\n+                {items.map((item) => {\r\n                   const itemLow = item.stock_level < item.low_stock_threshold;\r\n                   return (\r\n                     <div key={item.id} className=\"flex items-center justify-between\">\r\n                       <span className={itemLow ? \"text-rose-600 dark:text-rose-400\" : \"\"}>{item.item_name}</span>\r\n@@ -70,9 +74,8 @@\n                       </span>\r\n                     </div>\r\n                   );\r\n                 })}\r\n-                {items.length > 3 && <p className=\"text-xs text-zinc-500\">+{items.length - 3} more items</p>}\r\n               </div>\r\n             </Card>\r\n           );\r\n         })}\r\n@@ -165,9 +168,16 @@\n   );\r\n }\r\n \r\n function groupByType(items: any[]) {\r\n-  // Re-categorize into 3 business-focused groups instead of 5 technical types\r\n+  // ─────────────────────────────────────────────────────────────\r\n+  // BUSINESS CATEGORY MAPPING (3 groups from 5 database types)\r\n+  // ─────────────────────────────────────────────────────────────\r\n+  // \"Purchased\": raw_material (Groundnuts) + packaging (Bottles, Tins, Labels)\r\n+  // \"In Processing\": intermediate (Pressed Oil - not yet filtered)\r\n+  // \"Ready to Sell\": finished_good (Bottled Oil) + byproduct (Oil Cake)\r\n+  // ─────────────────────────────────────────────────────────────\r\n+  \r\n   const purchased: any[] = [];\r\n   const inProcessing: any[] = [];\r\n   const readyToSell: any[] = [];\r\n \r\n@@ -189,11 +199,18 @@\n }\r\n \r\n function formatType(type: string) {\r\n   const typeMap: Record<string, string> = {\r\n+    // Business categories (used in cards)\r\n     purchased: \"Purchased\",\r\n     in_processing: \"In Processing\",\r\n     ready_to_sell: \"Ready to Sell\",\r\n+    // Database types (used in table badge)\r\n+    raw_material: \"Raw Material\",\r\n+    packaging: \"Packaging\",\r\n+    intermediate: \"Intermediate\",\r\n+    finished_good: \"Finished Good\",\r\n+    byproduct: \"Byproduct\",\r\n   };\r\n \r\n   return typeMap[type] || type\r\n     .split(\"_\")\r\n"
                },
                {
                    "date": 1765702839807,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n   const lowStock = items.filter((item) => item.stock_level < item.low_stock_threshold);\r\n \r\n   return (\r\n     <InventoryClientWrappers>\r\n-      <div className=\"mb-6 flex items-center justify-between\">\r\n+      <div className=\"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\r\n         <div>\r\n           <h2 className=\"text-2xl font-semibold text-zinc-900 dark:text-zinc-100\">\r\n             Inventory Management\r\n           </h2>\r\n@@ -41,9 +41,9 @@\n           View Full Log\r\n         </Link>\r\n       </div>\r\n \r\n-      <div className=\"grid gap-4 md:grid-cols-2 xl:grid-cols-4\">\r\n+      <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4\">\r\n         {Object.entries(grouped).map(([type, items]) => {\r\n           const totalValue = items.reduce((acc, item) => acc + item.avg_cost * item.stock_level, 0);\r\n           const lowCount = items.filter((item) => item.stock_level < item.low_stock_threshold).length;\r\n           const hasRisk = lowCount > 0;\r\n@@ -81,10 +81,11 @@\n         })}\r\n       </div>\r\n \r\n       <Card title=\"Detailed View\" description=\"Review stock thresholds and reorder actions.\">\r\n-        <Table>\r\n-          <THead>\r\n+        <div className=\"w-full overflow-x-auto\">\r\n+          <Table>\r\n+            <THead>\r\n             <tr>\r\n               <TH>Item</TH>\r\n               <TH>Type</TH>\r\n               <TH>On Hand</TH>\r\n@@ -138,9 +139,10 @@\n                 </tr>\r\n               );\r\n             })}\r\n           </TBody>\r\n-        </Table>\r\n+          </Table>\r\n+        </div>\r\n       </Card>\r\n \r\n       <Card title=\"Reorder Suggestions\" description=\"Trigger procurement before operations stall.\">\r\n         {lowStock.length === 0 ? (\r\n"
                }
            ],
            "date": 1763069565216,
            "name": "Commit-0",
            "content": "import { Badge } from \"@/components/ui/badge\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Table, THead, TBody, TH, TD } from \"@/components/ui/table\";\r\nimport { inventoryItems } from \"@/lib/sample-data\";\r\n\r\nexport default function InventoryPage() {\r\n  const grouped = groupByType();\r\n  const lowStock = inventoryItems.filter((item) => item.stockLevel < item.lowStockThreshold);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div>\r\n        <h2 className=\"text-2xl font-semibold text-zinc-900 dark:text-zinc-100\">Inventory Health</h2>\r\n        <p className=\"mt-1 text-sm text-zinc-500 dark:text-zinc-400\">\r\n          Track stock across raw material, production flow, and finished goods.\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"grid gap-4 md:grid-cols-2 xl:grid-cols-4\">\r\n        {Object.entries(grouped).map(([type, items]) => {\r\n          const totalValue = items.reduce((acc, item) => acc + item.avgCost * item.stockLevel, 0);\r\n          const lowCount = items.filter((item) => item.stockLevel < item.lowStockThreshold).length;\r\n          return (\r\n            <Card\r\n              key={type}\r\n              title={`${formatType(type)} (${items.length})`}\r\n              description={`${lowCount} at risk · ₹${Math.round(totalValue).toLocaleString(\"en-IN\")}`}\r\n              className=\"bg-white/80 dark:bg-zinc-900/80\"\r\n            >\r\n              <div className=\"mt-4 space-y-2 text-sm text-zinc-600 dark:text-zinc-300\">\r\n                {items.slice(0, 3).map((item) => (\r\n                  <div key={item.id} className=\"flex items-center justify-between\">\r\n                    <span>{item.itemName}</span>\r\n                    <span className=\"font-medium text-zinc-900 dark:text-zinc-100\">\r\n                      {item.stockLevel} {item.unit}\r\n                    </span>\r\n                  </div>\r\n                ))}\r\n                {items.length > 3 && <p className=\"text-xs text-zinc-500\">+{items.length - 3} more items</p>}\r\n              </div>\r\n            </Card>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      <Card title=\"Detailed View\" description=\"Review stock thresholds and reorder actions.\">\r\n        <Table>\r\n          <THead>\r\n            <tr>\r\n              <TH>Item</TH>\r\n              <TH>Type</TH>\r\n              <TH>On Hand</TH>\r\n              <TH>Avg Cost</TH>\r\n              <TH>Low Stock Threshold</TH>\r\n            </tr>\r\n          </THead>\r\n          <TBody>\r\n            {inventoryItems.map((item) => {\r\n              const isLow = item.stockLevel < item.lowStockThreshold;\r\n              return (\r\n                <tr key={item.id} className={isLow ? \"bg-rose-50/70 dark:bg-rose-950/40\" : undefined}>\r\n                  <TD className=\"font-medium text-zinc-900 dark:text-zinc-100\">{item.itemName}</TD>\r\n                  <TD>\r\n                    <Badge variant=\"neutral\">{formatType(item.itemType)}</Badge>\r\n                  </TD>\r\n                  <TD>\r\n                    <span className=\"font-semibold\">{item.stockLevel}</span> {item.unit}\r\n                  </TD>\r\n                  <TD>₹{item.avgCost.toLocaleString(\"en-IN\")}</TD>\r\n                  <TD>{item.lowStockThreshold}</TD>\r\n                </tr>\r\n              );\r\n            })}\r\n          </TBody>\r\n        </Table>\r\n      </Card>\r\n\r\n      <Card title=\"Reorder Suggestions\" description=\"Trigger procurement before operations stall.\">\r\n        {lowStock.length === 0 ? (\r\n          <p className=\"text-sm text-zinc-500 dark:text-zinc-400\">All inventory within safe levels.</p>\r\n        ) : (\r\n          <ul className=\"space-y-3 text-sm text-zinc-600 dark:text-zinc-300\">\r\n            {lowStock.map((item) => (\r\n              <li key={item.id} className=\"flex items-center justify-between rounded-lg border border-rose-200/60 bg-white p-3 dark:border-rose-800/40 dark:bg-zinc-900\">\r\n                <div>\r\n                  <p className=\"font-semibold text-zinc-900 dark:text-zinc-100\">{item.itemName}</p>\r\n                  <p className=\"text-xs text-zinc-500\">Safety stock {item.lowStockThreshold} {item.unit}</p>\r\n                </div>\r\n                <Badge variant=\"danger\">{item.stockLevel} {item.unit}</Badge>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction groupByType() {\r\n  return inventoryItems.reduce<Record<string, typeof inventoryItems>>( (acc, item) => {\r\n    acc[item.itemType] = acc[item.itemType] ? [...acc[item.itemType], item] : [item];\r\n    return acc;\r\n  }, {} as Record<string, typeof inventoryItems>);\r\n}\r\n\r\nfunction formatType(type: string) {\r\n  return type\r\n    .split(\"_\")\r\n    .map((part) => part.charAt(0).toUpperCase() + part.slice(1))\r\n    .join(\" \");\r\n}\r\n"
        }
    ]
}